(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3KC0":function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i("YeHE"),i("bfU7"),i("K81y"),i("meT2"),i("3yoT");var n=function(){}},"3yoT":function(e,t,i){"use strict";i("SF+E"),i("ISLE"),i("curK")},ISLE:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i("SF+E"),i("curK");var n=function(){}},K81y:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("K9Ia"),r=(i("3yoT"),i("meT2"),function(){function e(e,t){this.ng2PicaService=e,this.imageExifService=t}return e.prototype.resizeImage=function(e,t,i,r){var o=this;void 0===r&&(r=!1);var a=new n.a;if(this.timeAtStart=(new Date).getTime(),"image/jpeg"!==e.type&&"image/png"!==e.type)return setTimeout(function(){a.error({resizedFile:e,reason:"The provided File is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})},0),a.asObservable();var s=new Image,u=this;return s.onload=function(){o.imageExifService.getOrientedImage(s).then(function(n){window.URL.revokeObjectURL(s.src);var o=n.width,c=n.height,h=o,l=c;h>t&&(h=t,l*=t/o),c=l,l>i&&(l=i,h*=i/c),l===n.height&&h===n.width?(a.next(e),u.logExecutionTime(r)):u.ng2PicaService.resize([e],h,l).subscribe(function(e){a.next(e),u.logExecutionTime(r)},function(t){a.error({resizedFile:e,reason:t,error:"PICA_ERROR"}),u.logExecutionTime(r)})})},s.src=window.URL.createObjectURL(e),a.asObservable()},e.prototype.logExecutionTime=function(e){e&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")},e}())},"R/zX":function(e,t,i){"use strict";i("YeHE"),i("3KC0"),i("bfU7"),i("K81y"),i("meT2")},"SF+E":function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i("K9Ia"),r=i("gkvR"),o=i.n(r),a=(i("curK"),function(){function e(e){this.imageExifService=e}return e.prototype.resize=function(e,t,i,r){void 0===r&&(r=!1);for(var o=new n.a,a=0;a<e.length;a++)this.resizeFile(e[a],t,i,r).then(function(e){o.next(e)}).catch(function(e){o.error(e)});return o.asObservable()},e.prototype.resizeCanvas=function(e,t,i){return new Promise(function(n,r){var a=new o.a;a&&a.resize||(a=new window.pica),a.resize(e,t,i).then(function(e){n(e)},function(e){r(e)})})},e.prototype.resizeBuffer=function(e){return new Promise(function(t,i){var n=new o.a;n&&n.resizeBuffer||(n=new window.pica),n.resizeBuffer(e).then(function(e){t(e)},function(e){i(e)})})},e.prototype.resizeFile=function(e,t,i,n){var r=this;return void 0===n&&(n=!1),new Promise(function(o,a){var s=document.createElement("canvas"),u=s.getContext("2d"),c=new Image;c.onload=function(){r.imageExifService.getOrientedImage(c).then(function(h){window.URL.revokeObjectURL(c.src),s.width=h.width,s.height=h.height,u.drawImage(h,0,0);var l=u.getImageData(0,0,h.width,h.height);if(n){var g=Math.min(t/l.width,i/l.height);t=Math.round(l.width*g),i=Math.round(l.height*g)}var f=!0;("image/jpeg"===e.type||"image/png"===e.type&&!r.isImgUsingAlpha(l))&&(f=!1,(u=s.getContext("2d",{alpha:!1})).drawImage(h,0,0));var A=document.createElement("canvas");A.width=t,A.height=i,r.resizeCanvas(s,A,{alpha:f}).then(function(t){t.toBlob(function(t){var i=r.generateResultFile(t,e.name,e.type,(new Date).getTime());o(i)},e.type)}).catch(function(e){a(e)})})},c.src=window.URL.createObjectURL(e)})},e.prototype.isImgUsingAlpha=function(e){for(var t=0;t<e.data.length;t+=4)if(255!==e.data[t+3])return!0;return!1},e.prototype.generateResultFile=function(e,t,i,n){var r=new Blob([e],{type:i});return this.blobToFile(r,t,n)},e.prototype.blobToFile=function(e,t,i){var n=e;return n.name=t,n.lastModified=i,n},e}())},YeHE:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("K9Ia"),r=(i("bfU7"),i("K81y"),i("meT2"),function(){function e(e,t,i){this.imgMaxSizeService=e,this.imgMaxPXSizeService=t,this.imageExifService=i}return e.prototype.compress=function(e,t,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r=!1);var a=new n.a;return e.forEach(function(e){o.compressImage(e,t,i,r).subscribe(function(e){a.next(e)},function(e){a.error(e)})}),a.asObservable()},e.prototype.resize=function(e,t,i,r){var o=this;void 0===r&&(r=!1);var a=new n.a;return e.forEach(function(e){o.resizeImage(e,t,i,r).subscribe(function(e){a.next(e)},function(e){a.error(e)})}),a.asObservable()},e.prototype.compressImage=function(e,t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),this.imgMaxSizeService.compressImage(e,t,i,n)},e.prototype.resizeImage=function(e,t,i,n){return void 0===n&&(n=!1),this.imgMaxPXSizeService.resizeImage(e,t,i,n)},e.prototype.getEXIFOrientedImage=function(e){return this.imageExifService.getOrientedImage(e)},e}())},b0Xh:function(e,t,i){var r;(function(){var i=!1,o=function(e){return e instanceof o?e:this instanceof o?void(this.EXIFwrapped=e):new o(e)};void 0!==e&&e.exports&&(t=e.exports=o),t.EXIF=o;var a=o.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=o.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},u=o.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},c=o.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},h=o.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(e){return!!e.exifdata}function g(e){var t=new DataView(e);if(i&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;for(var n,r=2,o=e.byteLength;r<o;){if(255!=t.getUint8(r))return i&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(n=t.getUint8(r+1),i&&console.log(n),225==n)return i&&console.log("Found 0xFFE1 marker"),I(t,r+4,t.getUint16(r+2));r+=2+t.getUint16(r+2)}}var f={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function A(e,t,i){for(var n,r,o,a,s=new DataView(e),u={},c=t;c<t+i;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(a=s.getUint8(c+2))in f&&(o=s.getInt16(c+3),r=f[a],n=p(s,c+5,o),u.hasOwnProperty(r)?u[r]instanceof Array?u[r].push(n):u[r]=[u[r],n]:u[r]=n),c++;return u}function d(e,t,n,r,o){var a,s,u,c=e.getUint16(n,!o),h={};for(u=0;u<c;u++)!(s=r[e.getUint16(a=n+12*u+2,!o)])&&i&&console.log("Unknown tag: "+e.getUint16(a,!o)),h[s]=m(e,a,t,0,o);return h}function m(e,t,i,n,r){var o,a,s,u,c,h,l=e.getUint16(t+2,!r),g=e.getUint32(t+4,!r),f=e.getUint32(t+8,!r)+i;switch(l){case 1:case 7:if(1==g)return e.getUint8(t+8,!r);for(o=g>4?f:t+8,a=[],u=0;u<g;u++)a[u]=e.getUint8(o+u);return a;case 2:return p(e,o=g>4?f:t+8,g-1);case 3:if(1==g)return e.getUint16(t+8,!r);for(o=g>2?f:t+8,a=[],u=0;u<g;u++)a[u]=e.getUint16(o+2*u,!r);return a;case 4:if(1==g)return e.getUint32(t+8,!r);for(a=[],u=0;u<g;u++)a[u]=e.getUint32(f+4*u,!r);return a;case 5:if(1==g)return c=e.getUint32(f,!r),h=e.getUint32(f+4,!r),(s=new Number(c/h)).numerator=c,s.denominator=h,s;for(a=[],u=0;u<g;u++)c=e.getUint32(f+8*u,!r),h=e.getUint32(f+4+8*u,!r),a[u]=new Number(c/h),a[u].numerator=c,a[u].denominator=h;return a;case 9:if(1==g)return e.getInt32(t+8,!r);for(a=[],u=0;u<g;u++)a[u]=e.getInt32(f+4*u,!r);return a;case 10:if(1==g)return e.getInt32(f,!r)/e.getInt32(f+4,!r);for(a=[],u=0;u<g;u++)a[u]=e.getInt32(f+8*u,!r)/e.getInt32(f+4+8*u,!r);return a}}function p(e,t,i){var r="";for(n=t;n<t+i;n++)r+=String.fromCharCode(e.getUint8(n));return r}function I(e,t){if("Exif"!=p(e,t,4))return i&&console.log("Not valid EXIF data! "+p(e,t,4)),!1;var n,r,o,l,g,f=t+6;if(18761==e.getUint16(f))n=!1;else{if(19789!=e.getUint16(f))return i&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(f+2,!n))return i&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var A=e.getUint32(f+4,!n);if(A<8)return i&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(f+4,!n)),!1;if((r=d(e,f,f+A,s,n)).ExifIFDPointer)for(o in l=d(e,f,f+r.ExifIFDPointer,a,n)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":l[o]=h[o][l[o]];break;case"ExifVersion":case"FlashpixVersion":l[o]=String.fromCharCode(l[o][0],l[o][1],l[o][2],l[o][3]);break;case"ComponentsConfiguration":l[o]=h.Components[l[o][0]]+h.Components[l[o][1]]+h.Components[l[o][2]]+h.Components[l[o][3]]}r[o]=l[o]}if(r.GPSInfoIFDPointer)for(o in g=d(e,f,f+r.GPSInfoIFDPointer,u,n)){switch(o){case"GPSVersionID":g[o]=g[o][0]+"."+g[o][1]+"."+g[o][2]+"."+g[o][3]}r[o]=g[o]}return r.thumbnail=function(e,t,i,n){var r=function(e,t,i){var n=e.getUint16(t,!i);return e.getUint32(t+2+12*n,!i)}(e,t+i,n);if(!r)return{};if(r>e.byteLength)return{};var o=d(e,t,t+r,c,n);if(o.Compression)switch(o.Compression){case 6:o.JpegIFOffset&&o.JpegIFByteCount&&(o.blob=new Blob([new Uint8Array(e.buffer,t+o.JpegIFOffset,o.JpegIFByteCount)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(e,f,A,n),r}function w(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var i=0;i<e.attributes.length;i++){var n=e.attributes.item(i);t["@attributes"][n.nodeName]=n.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++){var o=e.childNodes.item(r),a=o.nodeName;if(null==t[a])t[a]=w(o);else{if(null==t[a].push){var s=t[a];t[a]=[],t[a].push(s)}t[a].push(w(o))}}return t}function v(e){try{var t={};if(e.children.length>0)for(var i=0;i<e.children.length;i++){var n=e.children.item(i),r=n.attributes;for(var o in r){var a=r[o],s=a.nodeName;void 0!==s&&(t[s]=a.nodeValue)}var u=n.nodeName;if(void 0===t[u])t[u]=w(n);else{if(void 0===t[u].push){var c=t[u];t[u]=[],t[u].push(c)}t[u].push(w(n))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}o.enableXmp=function(){o.isXmpEnabled=!0},o.disableXmp=function(){o.isXmpEnabled=!1},o.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete||(l(e)?t&&t.call(e):function(e,t){function n(n){var r=g(n);e.exifdata=r||{};var a=function(e){var t=new DataView(e);if(i&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;for(var n=2,r=e.byteLength,o=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};n<r;){if(o(t,n)){var a=t.getUint8(n+7);return a%2!=0&&(a+=1),0===a&&(a=4),A(e,n+8+a,t.getUint16(n+6+a))}n++}}(n);if(e.iptcdata=a||{},o.isXmpEnabled){var s=function(e){if("DOMParser"in self){var t=new DataView(e);if(i&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;for(var n=2,r=e.byteLength,o=new DOMParser;n<r-4;){if("http"==p(t,n,4)){var a=p(t,n-1,t.getUint16(n-2)-1),s=a.indexOf("xmpmeta>")+8,u=(a=a.substring(a.indexOf("<x:xmpmeta"),s)).indexOf("x:xmpmeta")+10;return a=a.slice(0,u)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+a.slice(u),v(o.parseFromString(a,"text/xml"))}n++}}}(n);e.xmpdata=s||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(e),n=i.length,r=new ArrayBuffer(n),o=new Uint8Array(r),a=0;a<n;a++)o[a]=i.charCodeAt(a);return r}(e.src));else if(/^blob\:/i.test(e.src))(a=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(e){200!=this.status&&0!==this.status||a.readAsArrayBuffer(this.response)},i.send()}(e.src);else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var a;(a=new FileReader).onload=function(e){i&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},a.readAsArrayBuffer(e)}}(e,t),0))},o.getTag=function(e,t){if(l(e))return e.exifdata[t]},o.getIptcTag=function(e,t){if(l(e))return e.iptcdata[t]},o.getAllTags=function(e){if(!l(e))return{};var t,i=e.exifdata,n={};for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);return n},o.getAllIptcTags=function(e){if(!l(e))return{};var t,i=e.iptcdata,n={};for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);return n},o.pretty=function(e){if(!l(e))return"";var t,i=e.exifdata,n="";for(t in i)i.hasOwnProperty(t)&&("object"==typeof i[t]?i[t]instanceof Number?n+=t+" : "+i[t]+" ["+i[t].numerator+"/"+i[t].denominator+"]\r\n":n+=t+" : ["+i[t].length+" values]\r\n":n+=t+" : "+i[t]+"\r\n");return n},o.readFromBinaryFile=function(e){return g(e)},void 0===(r=(function(){return o}).apply(t,[]))||(e.exports=r)}).call(this)},bfU7:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("K9Ia"),r=(i("meT2"),function(){function e(e){this.imageExifService=e}return e.prototype.compressImage=function(e,t,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r=!1);var a=new n.a;if(this.timeAtStart=(new Date).getTime(),this.initialFile=e,"image/jpeg"!==e.type&&"image/png"!==e.type)return setTimeout(function(){a.error({compressedFile:e,reason:"File provided is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})},0),a.asObservable();if(e.size/1024/1024<t)return setTimeout(function(){a.next(e)},0),a.asObservable();var s=document.createElement("canvas"),u=s.getContext("2d"),c=new Image,h=this;return c.onload=function(){o.imageExifService.getOrientedImage(c).then(function(n){window.URL.revokeObjectURL(c.src),s.width=n.width,s.height=n.height,u.drawImage(n,0,0);var l=u.getImageData(0,0,n.width,n.height);"image/png"===e.type&&o.isImgUsingAlpha(l)&&!i&&a.error({compressedFile:e,reason:"File provided is a png image which uses the alpha channel. No compression possible.",error:"PNG_WITH_ALPHA"}),(u=s.getContext("2d",{alpha:!1})).drawImage(n,0,0),h.getCompressedFile(s,50,t,1).then(function(e){a.next(e),h.logExecutionTime(r)}).catch(function(e){a.error(e),h.logExecutionTime(r)})})},c.src=window.URL.createObjectURL(e),a.asObservable()},e.prototype.getCompressedFile=function(e,t,i,n){var r=this;return new Promise(function(o,a){e.toBlob(function(s){if(n+1>15)a({compressedFile:r.getResultFile(s),reason:"Could not find the correct compression quality in 15 steps.",error:"MAX_STEPS_EXCEEDED"});else{var u=r.getCalculatedQuality(s,t,i,n);r.checkCompressionStatus(e,s,t,i,n,u).then(function(e){o(e)}).catch(function(e){a(e)})}},"image/jpeg",t/100)})},e.prototype.getResultFile=function(e){return this.generateResultFile(e,this.initialFile.name,this.initialFile.type,(new Date).getTime())},e.prototype.generateResultFile=function(e,t,i,n){var r=new Blob([e],{type:i});return this.blobToFile(r,t,n)},e.prototype.blobToFile=function(e,t,i){var n=e;return n.name=t,n.lastModified=i,n},e.prototype.getCalculatedQuality=function(e,t,i,n){var r=e.size/1024/1024,o=i/r;o>5&&(o=5);var a=r/(this.initialFile.size/1024/1024);a<.05&&(a=.05);var s=0,u=10*Math.abs(a-1)/(1.7*n)/o;return u<1&&(u=1),(s=o>=1?t+10*(o-1)*u:t-10*(1-o)*u)>100&&(s=t+(100-t)/2),s<0&&(s=t-t/2),s},e.prototype.checkCompressionStatus=function(e,t,i,n,r,o){var a=this;return new Promise(function(s,u){100===i&&o>=100?u({compressedFile:a.initialFile,reason:"Unfortunately there was an error while compressing the file.",error:"FILE_BIGGER_THAN_INITIAL_FILE"}):i<1&&o<i?u({compressedFile:a.getResultFile(t),reason:"Could not compress image enough to fit the maximal file size limit.",error:"UNABLE_TO_COMPRESS_ENOUGH"}):o>i&&Math.round(i)==Math.round(o)?s(a.getResultFile(t)):r>5&&o>i&&o<i+2?s(a.getResultFile(t)):o>i&&Number.isInteger(i)&&Math.floor(o)==i?s(a.getResultFile(t)):(i>o&&Math.round(i)==Math.round(o)&&(o=Math.round(o)-1),s(a.getCompressedFile(e,o,n,r+1)))})},e.prototype.isImgUsingAlpha=function(e){for(var t=0;t<e.data.length;t+=4)if(255!==e.data[t+3])return!0;return!1},e.prototype.logExecutionTime=function(e){e&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")},e}())},curK:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("b0Xh"),r=function(){function e(){}return e.prototype.getOrientedImage=function(e){return new Promise(function(t,i){var r;n||((n={}).getData=function(t,i){return i.call(e),!0},n.getTag=function(){return!1}),n.getData(e,function(){var i=n.getTag(e,"Orientation");if(1!=i){var o=document.createElement("canvas"),a=o.getContext("2d"),s=e.width,u=e.height,c=0,h=0,l=0;switch(i){case 3:case 4:c=-e.width,h=-e.height,l=180;break;case 5:case 6:s=e.height,u=e.width,h=-e.height,l=90;break;case 7:case 8:s=e.height,u=e.width,c=-e.width,l=270}o.width=s,o.height=u,[2,4,5,7].indexOf(i)>-1&&(a.translate(s,0),a.scale(-1,1)),a.rotate(l*Math.PI/180),a.drawImage(e,c,h),(r=document.createElement("img")).width=s,r.height=u,r.addEventListener("load",function(){t(r)}),r.src=o.toDataURL("image/png")}else t(e)})})},e}()},gkvR:function(e,t,i){var n;e.exports=function e(t,i,r){function o(s,u){if(!i[s]){if(!t[s]){if(!u&&"function"==typeof n&&n)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){return o(t[s][1][e]||e)},h,h.exports,e,t,i,r)}return i[s].exports}for(var a="function"==typeof n&&n,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,i){"use strict";var n=e("inherits"),r=e("multimath"),o=e("multimath/lib/unsharp_mask"),a=e("./mm_resize");function s(e){var t=e||[],i={js:t.indexOf("js")>=0,wasm:t.indexOf("wasm")>=0};r.call(this,i),this.features={js:i.js,wasm:i.wasm&&this.has_wasm},this.use(o),this.use(a)}n(s,r),s.prototype.resizeAndUnsharp=function(e,t){var i=this.resize(e,t);return e.unsharpAmount&&this.unsharp_mask(i,e.toWidth,e.toHeight,e.unsharpAmount,e.unsharpRadius,e.unsharpThreshold),i},t.exports=s},{"./mm_resize":4,inherits:15,multimath:16,"multimath/lib/unsharp_mask":19}],2:[function(e,t,i){"use strict";function n(e){return e<0?0:e>255?255:e}t.exports={convolveHorizontally:function(e,t,i,r,o,a){var s,u,c,h,l,g,f,A,d,m,p,I=0,w=0;for(d=0;d<r;d++){for(l=0,m=0;m<o;m++){for(g=a[l++],f=a[l++],A=I+4*g|0,s=u=c=h=0;f>0;f--)h=h+(p=a[l++])*e[A+3]|0,c=c+p*e[A+2]|0,u=u+p*e[A+1]|0,s=s+p*e[A]|0,A=A+4|0;t[w+3]=n(h+8192>>14),t[w+2]=n(c+8192>>14),t[w+1]=n(u+8192>>14),t[w]=n(s+8192>>14),w=w+4*r|0}w=4*(d+1)|0,I=(d+1)*i*4|0}},convolveVertically:function(e,t,i,r,o,a){var s,u,c,h,l,g,f,A,d,m,p,I=0,w=0;for(d=0;d<r;d++){for(l=0,m=0;m<o;m++){for(g=a[l++],f=a[l++],A=I+4*g|0,s=u=c=h=0;f>0;f--)h=h+(p=a[l++])*e[A+3]|0,c=c+p*e[A+2]|0,u=u+p*e[A+1]|0,s=s+p*e[A]|0,A=A+4|0;t[w+3]=n(h+8192>>14),t[w+2]=n(c+8192>>14),t[w+1]=n(u+8192>>14),t[w]=n(s+8192>>14),w=w+4*r|0}w=4*(d+1)|0,I=(d+1)*i*4|0}}}},{}],3:[function(e,t,i){"use strict";t.exports="AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw=="},{}],4:[function(e,t,i){"use strict";t.exports={name:"resize",fn:e("./resize"),wasm_fn:e("./resize_wasm"),wasm_src:e("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(e,t,i){"use strict";var n=e("./resize_filter_gen"),r=e("./convolve").convolveHorizontally,o=e("./convolve").convolveVertically;t.exports=function(e){var t=e.src,i=e.width,a=e.height,s=e.toWidth,u=e.toHeight,c=e.scaleX||e.toWidth/e.width,h=e.scaleY||e.toHeight/e.height,l=e.offsetX||0,g=e.offsetY||0,f=e.dest||new Uint8Array(s*u*4),A=void 0===e.quality?3:e.quality,d=e.alpha||!1,m=n(A,i,s,c,l),p=n(A,a,u,h,g),I=new Uint8Array(s*a*4);return r(t,I,i,a,s,m),o(I,f,a,s,u,p),d||function(e,t,i){for(var n=3,r=s*u*4|0;n<r;)e[n]=255,n=n+4|0}(f),f}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(e,t,i){"use strict";var n=e("./resize_filter_info"),r=14;function o(e){return Math.round(e*((1<<r)-1))}t.exports=function(e,t,i,r,a){var s,u,c,h,l,g,f,A,d,m,p,I,w,v,b,y,E=n[e].filter,C=1/r,B=Math.min(1,r),_=n[e].win/B,x=Math.floor(2*(_+1)),S=new Int16Array((x+2)*i),Q=0,F=!S.subarray||!S.set;for(s=0;s<i;s++){for(u=(s+.5)*C+a,c=Math.max(0,Math.floor(u-_)),l=(h=Math.min(t-1,Math.ceil(u+_)))-c+1,g=new Float32Array(l),f=new Int16Array(l),A=0,d=c,m=0;d<=h;d++,m++)A+=p=E((d+.5-u)*B),g[m]=p;for(I=0,m=0;m<g.length;m++)I+=w=g[m]/A,f[m]=o(w);for(f[i>>1]+=o(1-I),v=0;v<f.length&&0===f[v];)v++;if(v<f.length){for(b=f.length-1;b>0&&0===f[b];)b--;if(y=b-v+1,S[Q++]=c+v,S[Q++]=y,F)for(m=v;m<=b;m++)S[Q++]=f[m];else S.set(f.subarray(v,b+1),Q),Q+=y}else S[Q++]=0,S[Q++]=0}return S}},{"./resize_filter_info":7}],7:[function(e,t,i){"use strict";t.exports=[{win:.5,filter:function(e){return e>=-.5&&e<.5?1:0}},{win:1,filter:function(e){if(e<=-1||e>=1)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*(.54+.46*Math.cos(t/1))}},{win:2,filter:function(e){if(e<=-2||e>=2)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/2)/(t/2)}},{win:3,filter:function(e){if(e<=-3||e>=3)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/3)/(t/3)}}]},{}],8:[function(e,t,i){"use strict";var n=e("./resize_filter_gen"),r=!0;try{r=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(e){}function o(e,t,i){if(r)t.set(function(e){return new Uint8Array(e.buffer,0,e.byteLength)}(e),i);else for(var n=i,o=0;o<e.length;o++){var a=e[o];t[n++]=255&a,t[n++]=a>>8&255}}t.exports=function(e){var t=e.src,i=e.width,r=e.height,a=e.toWidth,s=e.toHeight,u=e.scaleX||e.toWidth/e.width,c=e.scaleY||e.toHeight/e.height,h=e.offsetX||0,l=e.offsetY||0,g=e.dest||new Uint8Array(a*s*4),f=void 0===e.quality?3:e.quality,A=e.alpha||!1,d=n(f,i,a,u,h),m=n(f,r,s,c,l),p=this.__align(0+Math.max(t.byteLength,g.byteLength)),I=this.__align(p+r*a*4),w=this.__align(I+d.byteLength),v=this.__instance("resize",w+m.byteLength),b=new Uint8Array(this.__memory.buffer),y=new Uint32Array(this.__memory.buffer),E=new Uint32Array(t.buffer);return y.set(E),o(d,b,I),o(m,b,w),(v.exports.convolveHV||v.exports._convolveHV)(I,w,p,i,r,a,s),new Uint32Array(g.buffer).set(new Uint32Array(this.__memory.buffer,0,s*a)),A||function(e,t,i){for(var n=3,r=a*s*4|0;n<r;)e[n]=255,n=n+4|0}(g),g}},{"./resize_filter_gen":6}],9:[function(e,t,i){"use strict";function n(e,t){this.create=e,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=t||2e3}n.prototype.acquire=function(){var e=this,t=void 0;return 0!==this.available.length?t=this.available.pop():((t=this.create()).id=this.lastId++,t.release=function(){return e.release(t)}),this.acquired[t.id]=t,t},n.prototype.release=function(e){var t=this;delete this.acquired[e.id],e.lastUsed=Date.now(),this.available.push(e),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return t.gc()},100))},n.prototype.gc=function(){var e=this,t=Date.now();this.available=this.available.filter(function(i){return!(t-i.lastUsed>e.idle&&(i.destroy(),1))}),this.timeoutId=0!==this.available.length?setTimeout(function(){return e.gc()},100):0},t.exports=n},{}],10:[function(e,t,i){"use strict";t.exports=function(e,t,i,n,r,o){var a=i/e,s=n/t,u=(2*o+2+1)/r;if(u>.5)return[[i,n]];var c=Math.ceil(Math.log(Math.min(a,s))/Math.log(u));if(c<=1)return[[i,n]];for(var h=[],l=0;l<c;l++){var g=Math.round(Math.pow(Math.pow(e,c-l-1)*Math.pow(i,l+1),1/c)),f=Math.round(Math.pow(Math.pow(t,c-l-1)*Math.pow(n,l+1),1/c));h.push([g,f])}return h}},{}],11:[function(e,t,i){"use strict";var n=1e-5;function r(e){var t=Math.round(e);return Math.abs(e-t)<n?t:Math.floor(e)}function o(e){var t=Math.round(e);return Math.abs(e-t)<n?t:Math.ceil(e)}t.exports=function(e){var t,i,n,a,s,u,c=e.toWidth/e.width,h=e.toHeight/e.height,l=r(e.srcTileSize*c)-2*e.destTileBorder,g=r(e.srcTileSize*h)-2*e.destTileBorder;if(l<1||g<1)throw new Error("Internal error in pica: target tile width/height is too small.");var f,A=[];for(a=0;a<e.toHeight;a+=g)for(n=0;n<e.toWidth;n+=l)(t=n-e.destTileBorder)<0&&(t=0),t+(s=n+l+e.destTileBorder-t)>=e.toWidth&&(s=e.toWidth-t),(i=a-e.destTileBorder)<0&&(i=0),i+(u=a+g+e.destTileBorder-i)>=e.toHeight&&(u=e.toHeight-i),f={toX:t,toY:i,toWidth:s,toHeight:u,toInnerX:n,toInnerY:a,toInnerWidth:l,toInnerHeight:g,offsetX:t/c-r(t/c),offsetY:i/h-r(i/h),scaleX:c,scaleY:h,x:r(t/c),y:r(i/h),width:o(s/c),height:o(u/h)},A.push(f);return A}},{}],12:[function(e,t,i){"use strict";function n(e){return Object.prototype.toString.call(e)}t.exports.isCanvas=function(e){var t=n(e);return"[object HTMLCanvasElement]"===t||"[object Canvas]"===t},t.exports.isImage=function(e){return"[object HTMLImageElement]"===n(e)},t.exports.limiter=function(e){var t=0,i=[];function n(){t<e&&i.length&&(t++,i.shift()())}return function(e){return new Promise(function(r,o){i.push(function(){e().then(function(e){r(e),t--,n()},function(e){o(e),t--,n()})}),n()})}},t.exports.cib_quality_name=function(e){switch(e){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},t.exports.cib_support=function(){return Promise.resolve().then(function(){if("undefined"==typeof createImageBitmap||"undefined"==typeof document)return!1;var e=document.createElement("canvas");return e.width=100,e.height=100,createImageBitmap(e,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(t){var i=10===t.width;return t.close(),e=null,i})}).catch(function(){return!1})}},{}],13:[function(e,t,i){"use strict";t.exports=function(){var t=e("./mathlib"),i=void 0;onmessage=function(e){var n=e.data.opts;i||(i=new t(e.data.features));var r=i.resizeAndUnsharp(n);postMessage({result:r},[r.buffer])}}},{"./mathlib":1}],14:[function(e,t,i){var n,r,o,a,s,u;function c(e,t,i,n,r,o){var a,s,u,c,h,l,g,f,A,d,m,p,I,w;for(A=0;A<o;A++){for(g=A,f=0,c=h=(a=e[l=A*r])*n[6],m=n[0],p=n[1],I=n[4],w=n[5],d=0;d<r;d++)u=(s=e[l])*m+a*p+c*I+h*w,h=c,a=s,i[f]=c=u,f++,l++;for(f--,g+=o*(r-1),c=h=(a=e[--l])*n[7],s=a,m=n[2],p=n[3],d=r-1;d>=0;d--)u=s*m+a*p+c*I+h*w,h=c,a=s,s=e[l],t[g]=i[f]+(c=u),l--,f--,g-=o}}t.exports=function(e,t,i,h){if(h){var l=new Uint16Array(e.length),g=new Float32Array(Math.max(t,i)),f=function(e){e<.5&&(e=.5);var t=Math.exp(.527076)/e,i=Math.exp(-t),c=Math.exp(-2*t),h=(1-i)*(1-i)/(1+2*t*i-c);return n=h,r=h*(t-1)*i,o=h*(t+1)*i,a=-h*c,s=2*i,u=-c,new Float32Array([n,r,o,a,s,u,(n+r)/(1-s-u),(o+a)/(1-s-u)])}(h);c(e,l,g,f,t,i),c(l,e,g,f,i,t)}}},{}],15:[function(e,t,i){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],16:[function(e,t,i){"use strict";var n=e("object-assign"),r=e("./lib/base64decode"),o=e("./lib/wa_detect"),a={js:!0,wasm:!0};function s(e){if(!(this instanceof s))return new s(e);var t=n({},a,e||{});if(this.options=t,this.__cache={},this.has_wasm=o(),this.__init_promise=null,this.__modules=t.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}s.prototype.use=function(e){return this.__modules[e.name]=e,this[e.name]=this.has_wasm&&this.options.wasm&&e.wasm_fn?e.wasm_fn:e.fn,this},s.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm)return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var e=this;return this.__init_promise=Promise.all(Object.keys(e.__modules).map(function(t){var i=e.__modules[t];return e.has_wasm&&e.options.wasm&&i.wasm_fn?e.__wasm[t]?null:WebAssembly.compile(e.__base64decode(i.wasm_src)).then(function(i){e.__wasm[t]=i}):null})).then(function(){return e}),this.__init_promise},s.prototype.__base64decode=r,s.prototype.__reallocate=function(e){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(e/65536)}),this.__memory;var t=this.__memory.buffer.byteLength;return t<e&&this.__memory.grow(Math.ceil((e-t)/65536)),this.__memory},s.prototype.__instance=function(e,t,i){if(t&&this.__reallocate(t),this.__wasm[e]||(this.__wasm[e]=new WebAssembly.Module(this.__base64decode(this.__modules[e].wasm_src))),!this.__cache[e]){var r={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[e]=new WebAssembly.Instance(this.__wasm[e],{env:n(r,i||{})})}return this.__cache[e]},s.prototype.__align=function(e,t){var i=e%(t=t||8);return e+(i?t-i:0)},t.exports=s},{"./lib/base64decode":17,"./lib/wa_detect":23,"object-assign":24}],17:[function(e,t,i){"use strict";t.exports=function(e){for(var t=e.replace(/[\r\n=]/g,""),i=t.length,n=new Uint8Array(3*i>>2),r=0,o=0,a=0;a<i;a++)a%4==0&&a&&(n[o++]=r>>16&255,n[o++]=r>>8&255,n[o++]=255&r),r=r<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(a));var s=i%4*6;return 0===s?(n[o++]=r>>16&255,n[o++]=r>>8&255,n[o++]=255&r):18===s?(n[o++]=r>>10&255,n[o++]=r>>2&255):12===s&&(n[o++]=r>>4&255),n}},{}],18:[function(e,t,i){"use strict";t.exports=function(e,t,i){for(var n,r,o,a=t*i,s=new Uint16Array(a),u=0;u<a;u++)o=e[4*u+2],s[u]=257*(((n=e[4*u])>=(r=e[4*u+1])&&n>=o?n:r>=o&&r>=n?r:o)+(n<=r&&n<=o?n:r<=o&&r<=n?r:o))>>1;return s}},{}],19:[function(e,t,i){"use strict";t.exports={name:"unsharp_mask",fn:e("./unsharp_mask"),wasm_fn:e("./unsharp_mask_wasm"),wasm_src:e("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":20,"./unsharp_mask_wasm":21,"./unsharp_mask_wasm_base64":22}],20:[function(e,t,i){"use strict";var n=e("glur/mono16"),r=e("./hsl_l16");t.exports=function(e,t,i,o,a,s){var u,c,h,l,g,f,A,d,m,p,I,w,v;if(!(0===o||a<.5)){a>2&&(a=2);var b=r(e,t,i),y=new Uint16Array(b);n(y,t,i,a);for(var E=o/100*4096+.5|0,C=257*s|0,B=t*i,_=0;_<B;_++)w=2*(b[_]-y[_]),Math.abs(w)>=C&&(h=e[2+(v=4*_)],f=257*((d=(u=e[v])>=(c=e[v+1])&&u>=h?u:c>=u&&c>=h?c:h)+(A=u<=c&&u<=h?u:c<=u&&c<=h?c:h))>>1,A===d?l=g=0:(g=f<=32767?4095*(d-A)/(d+A)|0:4095*(d-A)/(510-d-A)|0,l=u===d?65535*(c-h)/(6*(d-A))|0:c===d?21845+(65535*(h-u)/(6*(d-A))|0):43690+(65535*(u-c)/(6*(d-A))|0)),(f+=E*w+2048>>12)>65535?f=65535:f<0&&(f=0),0===g?u=c=h=f>>8:(m=2*f-(p=f<=32767?f*(4096+g)+2048>>12:f+((65535-f)*g+2048>>12))>>8,p>>=8,u=(I=l+21845&65535)>=43690?m:I>=32767?m+(6*(p-m)*(43690-I)+32768>>16):I>=10922?p:m+(6*(p-m)*I+32768>>16),c=(I=65535&l)>=43690?m:I>=32767?m+(6*(p-m)*(43690-I)+32768>>16):I>=10922?p:m+(6*(p-m)*I+32768>>16),h=(I=l-21845&65535)>=43690?m:I>=32767?m+(6*(p-m)*(43690-I)+32768>>16):I>=10922?p:m+(6*(p-m)*I+32768>>16)),e[v]=u,e[v+1]=c,e[v+2]=h)}}},{"./hsl_l16":18,"glur/mono16":14}],21:[function(e,t,i){"use strict";t.exports=function(e,t,i,n,r,o){if(!(0===n||r<.5)){r>2&&(r=2);var a=t*i,s=4*a,u=2*a,c=2*a,h=4*Math.max(t,i),l=s,g=l+u,f=g+c,A=f+c,d=A+h,m=this.__instance("unsharp_mask",s+u+2*c+h+32,{exp:Math.exp}),p=new Uint32Array(e.buffer);new Uint32Array(this.__memory.buffer).set(p);var I=m.exports.hsl_l16||m.exports._hsl_l16;I(0,l,t,i),(I=m.exports.blurMono16||m.exports._blurMono16)(l,g,f,A,d,t,i,r),(I=m.exports.unsharp||m.exports._unsharp)(0,0,l,g,t,i,n,o),p.set(new Uint32Array(this.__memory.buffer,0,a))}}},{}],22:[function(e,t,i){"use strict";t.exports="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"},{}],23:[function(e,t,i){"use strict";var n;t.exports=function(){if(void 0!==n)return n;if(n=!1,"undefined"==typeof WebAssembly)return n;try{var e=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),t=new WebAssembly.Module(e);return 0!==new WebAssembly.Instance(t,{}).exports.test(4)&&(n=!0),n}catch(e){}return n}},{}],24:[function(e,t,i){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in i=Object(arguments[u]))r.call(i,c)&&(s[c]=i[c]);if(n){a=n(i);for(var h=0;h<a.length;h++)o.call(i,a[h])&&(s[a[h]]=i[a[h]])}}return s}},{}],25:[function(e,t,i){var n=arguments[3],r=arguments[4],o=arguments[5],a=JSON.stringify;t.exports=function(e,t){for(var i,s=Object.keys(o),u=0,c=s.length;u<c;u++){var h=o[g=s[u]].exports;if(h===e||h&&h.default===e){i=g;break}}if(!i){i=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var l={};for(u=0,c=s.length;u<c;u++){var g;l[g=s[u]]=g}r[i]=["function(require,module,exports){"+e+"(self); }",l]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),A={};A[i]=i,r[f]=["function(require,module,exports){var f = require("+a(i)+");(f.default ? f.default : f)(self);}",A];var d={};!function e(t){for(var i in d[t]=!0,r[t][1]){var n=r[t][1][i];d[n]||e(n)}}(f);var m="("+n+")({"+Object.keys(d).map(function(e){return a(e)+":["+r[e][0]+","+a(r[e][1])+"]"}).join(",")+"},{},["+a(f)+"])",p=window.URL||window.webkitURL||window.mozURL||window.msURL,I=new Blob([m],{type:"text/javascript"});if(t&&t.bare)return I;var w=p.createObjectURL(I),v=new Worker(w);return v.objectURL=w,v}},{}],"/":[function(e,t,i){"use strict";var n=e("object-assign"),r=e("webworkify"),o=e("./lib/mathlib"),a=e("./lib/pool"),s=e("./lib/utils"),u=e("./lib/worker"),c=e("./lib/stepper"),h=e("./lib/tiler"),l={},g=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(g=navigator.userAgent.indexOf("Safari")>=0)}catch(e){}var f=1;"undefined"!=typeof navigator&&(f=Math.min(navigator.hardwareConcurrency||1,4));var A={tile:1024,concurrency:f,features:["js","wasm","ww"],idle:2e3},d={quality:3,alpha:!1,unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},m=void 0,p=void 0;function I(){return{value:r(u),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;e&&e.revokeObjectURL&&this.value.objectURL&&e.revokeObjectURL(this.value.objectURL)}}}}function w(e){if(!(this instanceof w))return new w(e);this.options=n({},A,e||{});var t="lk_"+this.options.concurrency;this.__limit=l[t]||s.limiter(this.options.concurrency),l[t]||(l[t]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}w.prototype.init=function(){var t=this;if(this.__initPromise)return this.__initPromise;if(!1!==m&&!0!==m&&(m=!1,"undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray))try{new ImageData(new Uint8ClampedArray(400),10,10),m=!0}catch(e){}!1!==p&&!0!==p&&(p=!1,"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?p=!0:this.debug("ImageBitmap does not support .close(), disabled")));var i=this.options.features.slice();if(i.indexOf("all")>=0&&(i=["cib","wasm","js","ww"]),this.__requested_features=i,this.__mathlib=new o(i),i.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{e("webworkify")(function(){}).terminate(),this.features.ww=!0;var r="wp_"+JSON.stringify(this.options);l[r]?this.__workersPool=l[r]:(this.__workersPool=new a(I,this.options.idle),l[r]=this.__workersPool)}catch(e){}var u,c=this.__mathlib.init().then(function(e){n(t.features,e.features)});return u=p?s.cib_support().then(function(e){t.features.cib&&i.indexOf("cib")<0?t.debug("createImageBitmap() resize supported, but disabled by config"):i.indexOf("cib")>=0&&(t.features.cib=e)}):Promise.resolve(!1),this.__initPromise=Promise.all([c,u]).then(function(){return t}),this.__initPromise},w.prototype.resize=function(e,t,i){var r=this;this.debug("Start resize...");var o=n({},d);if(isNaN(i)?i&&(o=n(o,i)):o=n(o,{quality:i}),o.toWidth=t.width,o.toHeight=t.height,o.width=e.naturalWidth||e.width,o.height=e.naturalHeight||e.height,0===t.width||0===t.height)return Promise.reject(new Error("Invalid output size: "+t.width+"x"+t.height));o.unsharpRadius>2&&(o.unsharpRadius=2);var a=!1,u=null;o.cancelToken&&(u=o.cancelToken.then(function(e){throw a=!0,e},function(e){throw a=!0,e}));var l=Math.ceil(Math.max(3,2.5*o.unsharpRadius|0));return this.init().then(function(){if(a)return u;if(r.features.cib){var i=t.getContext("2d",{alpha:Boolean(o.alpha)});return r.debug("Resize via createImageBitmap()"),createImageBitmap(e,{resizeWidth:o.toWidth,resizeHeight:o.toHeight,resizeQuality:s.cib_quality_name(o.quality)}).then(function(e){if(a)return u;if(!o.unsharpAmount)return i.drawImage(e,0,0),e.close(),i=null,r.debug("Finished!"),t;r.debug("Unsharp result");var n=document.createElement("canvas");n.width=o.toWidth,n.height=o.toHeight;var s=n.getContext("2d",{alpha:Boolean(o.alpha)});s.drawImage(e,0,0),e.close();var c=s.getImageData(0,0,o.toWidth,o.toHeight);return r.__mathlib.unsharp(c.data,o.toWidth,o.toHeight,o.unsharpAmount,o.unsharpRadius,o.unsharpThreshold),i.putImageData(c,0,0),c=s=n=i=null,r.debug("Finished!"),t})}var f={};return function e(t,i,o,c){if(a)return u;var A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),2!==i.length);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t.shift()),d=A[0],I=A[1],w=0===t.length;c=n({},c,{toWidth:d,toHeight:I,quality:w?c.quality:Math.min(1,c.quality)});var v=void 0;return w||((v=document.createElement("canvas")).width=d,v.height=I),function(e,t,i){var n=void 0,o=void 0,c=void 0;return Promise.resolve().then(function(){if(c=t.getContext("2d",{alpha:Boolean(i.alpha)}),s.isCanvas(e))return n=e.getContext("2d",{alpha:Boolean(i.alpha)}),null;if(s.isImage(e))return p?(r.debug("Decode image via createImageBitmap"),createImageBitmap(e).then(function(e){o=e})):null;throw new Error('".from" should be image or canvas')}).then(function(){if(a)return u;r.debug("Calculate tiles");var A=h({width:i.width,height:i.height,srcTileSize:r.options.tile,toWidth:i.toWidth,toHeight:i.toHeight,destTileBorder:l}).map(function(t){return function(t){return r.__limit(function(){if(a)return u;var h=void 0;if(s.isCanvas(e))r.debug("Get tile pixel data"),h=n.getImageData(t.x,t.y,t.width,t.height);else{r.debug("Draw tile imageBitmap/image to temporary canvas");var l=document.createElement("canvas");l.width=t.width,l.height=t.height;var A=l.getContext("2d",{alpha:Boolean(i.alpha)});A.globalCompositeOperation="copy",A.drawImage(o||e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),r.debug("Get tile pixel data"),h=A.getImageData(0,0,t.width,t.height),A=l=null}var d={src:h.data,width:t.width,height:t.height,toWidth:t.toWidth,toHeight:t.toHeight,scaleX:t.scaleX,scaleY:t.scaleY,offsetX:t.offsetX,offsetY:t.offsetY,quality:i.quality,alpha:i.alpha,unsharpAmount:i.unsharpAmount,unsharpRadius:i.unsharpRadius,unsharpThreshold:i.unsharpThreshold};return r.debug("Invoke resize math"),Promise.resolve().then(function(){return e=d,Promise.resolve().then(function(){return r.features.ww?new Promise(function(t,i){var n=r.__workersPool.acquire();u&&u.catch(function(e){return i(e)}),n.value.onmessage=function(e){n.release(),e.data.err?i(e.data.err):t(e.data.result)},n.value.postMessage({opts:e,features:r.__requested_features,preload:{wasm_nodule:r.__mathlib.__}},[e.src.buffer])}):r.__mathlib.resizeAndUnsharp(e,f)});var e}).then(function(e){if(a)return u;h=null;var i=void 0;if(r.debug("Convert raw rgba tile result to ImageData"),m)i=new ImageData(new Uint8ClampedArray(e),t.toWidth,t.toHeight);else if((i=c.createImageData(t.toWidth,t.toHeight)).data.set)i.data.set(e);else for(var n=i.data.length-1;n>=0;n--)i.data[n]=e[n];return r.debug("Draw tile"),g?c.putImageData(i,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth+1e-5,t.toInnerHeight+1e-5):c.putImageData(i,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth,t.toInnerHeight),null})})}(t)});function d(){o&&(o.close(),o=null)}return r.debug("Process tiles"),Promise.all(A).then(function(){return r.debug("Finished!"),d(),t},function(e){throw d(),e})})}(i,w?o:v,c).then(function(){return w?o:(c.width=d,c.height=I,e(t,v,o,c))})}(c(o.width,o.height,o.toWidth,o.toHeight,r.options.tile,l),e,t,o)})},w.prototype.resizeBuffer=function(e){var t=this,i=n({},d,e);return this.init().then(function(){return t.__mathlib.resizeAndUnsharp(i)})},w.prototype.toBlob=function(e,t,i){return t=t||"image/png",new Promise(function(n){if(e.toBlob)e.toBlob(function(e){return n(e)},t,i);else{for(var r=atob(e.toDataURL(t,i).split(",")[1]),o=r.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=r.charCodeAt(s);n(new Blob([a],{type:t}))}})},w.prototype.debug=function(){},t.exports=w},{"./lib/mathlib":1,"./lib/pool":9,"./lib/stepper":10,"./lib/tiler":11,"./lib/utils":12,"./lib/worker":13,"object-assign":24,webworkify:25}]},{},[])("/")},meT2:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("b0Xh"),r=function(){function e(){}return e.prototype.getOrientedImage=function(e){return new Promise(function(t,i){var r;n||((n={}).getData=function(t,i){return i.call(e),!0},n.getTag=function(){return!1}),n.getData(e,function(){var i=n.getTag(e,"Orientation");if(1!=i){var o=document.createElement("canvas"),a=o.getContext("2d"),s=e.width,u=e.height,c=0,h=0,l=0;switch(i){case 3:case 4:c=-e.width,h=-e.height,l=180;break;case 5:case 6:s=e.height,u=e.width,h=-e.height,l=90;break;case 7:case 8:s=e.height,u=e.width,c=-e.width,l=270}o.width=s,o.height=u,[2,4,5,7].indexOf(i)>-1&&(a.translate(s,0),a.scale(-1,1)),a.rotate(l*Math.PI/180),a.drawImage(e,c,h),(r=document.createElement("img")).width=s,r.height=u,r.addEventListener("load",function(){t(r)}),r.src=o.toDataURL("image/png")}else t(e)})})},e}()}}]);